<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Tic-A-Tac Poker</title>
<link rel="stylesheet" type="text/css" href="theme.css" media="all">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script>
<script src="class.js"></script>
<script src="card.js"></script>
<script src="handler.js"></script>
<script src="render.js"></script>
<script>
//Game resource///////////////////////////////////
image = new Image();
image.src = "image.png";
image.onload = init;

//////////////////////////////////////////////////
function init(){
	deck = new Deck();
	dealtCards = new Array();
	player = new Player("Eric",115);
	ai = new Player("AI",545);
	
	//Get canvas
	animation = $("#animation")[0].getContext && $("#animation")[0].getContext("2d");
	board = $("#board")[0].getContext && $("#board")[0].getContext("2d");
	surface = $("#surface")[0].getContext && $("#surface")[0].getContext("2d");
	
	//Add event handlers
	$("#surface").mousedown(mouseDownHandler);
	$("#surface").mousemove(mouseMoveHandler);
	$("#surface").mouseout(mouseOutHandler);
	$("#surface").mouseup(mouseUpHandler);
	
	gameLoop();
}

function gameLoop(){
	for (var i = 0; i < 6; i++)
		if (!dealtCards[i]) dealtCards[i] = deck.dealCard();
	
	allowMouse = true;
	
	renderBoard();
	renderSurface();
	setTimeout("gameLoop()",20);	
}
</script>
</head>

<body>
<div>
	<canvas id="board" width="960" height="640"></canvas>
    <canvas id="animation" width="960" height="640"></canvas>
	<canvas id="surface" width="960" height="640"></canvas>
</div>
</body>
</html>
